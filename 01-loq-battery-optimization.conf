# TLP Configuration for Maximum Battery Savings - Lenovo LOQ 83GS

# CPU frequency scaling
CPU_SCALING_GOVERNOR_ON_BAT=powersave
CPU_SCALING_GOVERNOR_ON_AC=performance
CPU_MAX_PERF_ON_BAT=55            # Limit max CPU performance to ~55% on battery
CPU_MAX_PERF_ON_AC=100            # Full performance on AC
CPU_BOOST_ON_BAT=0                # Disable turbo boost on battery
CPU_BOOST_ON_AC=1                 # Enable turbo boost on AC

# Intel Graphics Power Saving
INTEL_GPU_MIN_FREQ_ON_BAT=300     # Minimum GPU freq on battery (valid value)
INTEL_GPU_MAX_FREQ_ON_BAT=500     # Max GPU freq on battery (kept reduced to save power)
INTEL_GPU_MIN_FREQ_ON_AC=300      # Minimum GPU freq on AC (valid value)
INTEL_GPU_MAX_FREQ_ON_AC=1300     # Max GPU freq on AC (full max freq)
INTEL_GPU_BOOST_FREQ_ON_AC=1300   # Boost freq on AC (valid value for your GPU)
INTEL_GPU_BOOST_FREQ_ON_BAT=550
# PCI Express Active State Power Management (ASPM)
PCIE_ASPM_ON_BAT=powersupersave  # Aggressive ASPM on battery
PCIE_ASPM_ON_AC=default

# Runtime power management for all devices
RUNTIME_PM_ON_BAT=on
RUNTIME_PM_ON_AC=auto

# Devices to disable on battery and enable on AC
DEVICES_TO_DISABLE_ON_BAT="bluetooth wwan nfc"
DEVICES_TO_ENABLE_ON_AC="bluetooth wwan nfc"

# Wi-Fi power saving
WIFI_PWR_ON_BAT=1                 # Enable Wi-Fi power saving on battery
WIFI_PWR_ON_AC=0                  # Disable on AC for performance

# USB autosuspend
USB_AUTOSUSPEND=1
USB_AUTOSUSPEND_DISABLE_ON_SHUTDOWN=1

# Battery charge thresholds (to prolong battery health)
START_CHARGE_THRESH_BAT=40
STOP_CHARGE_THRESH_BAT=80

# Set platform profile for power saving on battery
PLATFORM_PROFILE_ON_BAT=low-power
PLATFORM_PROFILE_ON_AC=performance

# Enable battery charge thresholds (requires tlp-rdw)
BATTERY_CHARGE_THRESHOLDS_ENABLE=1

# Additional device-specific tweaks can be added below as needed

